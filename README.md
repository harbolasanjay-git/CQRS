# cqrs-design-pattern
# cqrs-design-pattern

### Create Database tables

CREATE TABLE PRODUCT_COMMAND (
 	id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
	name VARCHAR2(10),
	description VARCHAR2(20),
	price NUMBER(5)
);

ALTER TABLE PRODUCT_COMMAND MODIFY (ID GENERATED AS IDENTITY START WITH 1);

CREATE TABLE PRODUCT_QUERY (
 	id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
	name VARCHAR2(10),
	description VARCHAR2(20),
	price NUMBER(5)
);

ALTER TABLE PRODUCT_QUERY MODIFY (ID GENERATED AS IDENTITY START WITH 1);

### CreateProduct Event
```
curl --location 'http://localhost:9191/products' \
--header 'Content-Type: application/json' \
--data '{
    "type": "CreateProduct",
    "product": {
        "name": "Books",
        "description": "KK publication",
        "price": 999
    }
}'
```
### UpdateProduct Event
```
curl --location --request PUT 'http://localhost:9191/products/1' \
--header 'Content-Type: application/json' \
--data '{
    "type": "UpdateProduct",
    "product": {
        "id": 1,
        "name": "Watch",
        "description": "Samsung latest model",
        "price": 58000.0
    }
}'
```
